tinymce.PluginManager.add('inserttag', function (editor, url) {
    let tags = editor.getParam("tags");
    tags.forEach(function (item) {

        item.type = 'menuitem';
        item.onAction = function () {
            let isString = typeof item.value === 'string' || item.value instanceof String;
            editor.insertContent(isString ? item.value : item.value.toString());
        }
    });

    editor.ui.registry.addMenuButton('inserttag', {
        type: 'menuitem',
        text: 'Tags',
        fetch: function (callback) {
            callback(tags);
        },
    });

});

